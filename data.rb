require 'colorize'
require 'io/console'

class Entity
    def self.print(msg)
        chr = @content[msg]
        if not chr.nil?
            str = Array.new
            str = chr.split("\n")
            for i in 0..str.length-1
                puts "\t\t" + str[i].to_s
            end
        end
    end

    def self.flatten(msg)
      chr = @content[msg]
        if not chr.nil?
          str = Array.new
          str = chr.split("\n")
          # for i in 0..str.length-1
          #   puts "\t\t" + str[i].strip.squeeze.chars.compact.join.to_s
          # end
          # puts "\t\t" + str.join.delete(' ').squeeze
        end
    end
end



class Image < Entity
    @content = {
      "Cyb" =>

"
     ,     ,
    (\\____/)
     (_oo_)
       (O)
     __||__    \\)
  []/______\\[] /
  / \\______/ \\/
 /    /__\\
(\   /____\\
",

"leiutenant" =>
"
       \\\\ /////
       |      |
      (| _  _ |)
       |` |  '|
       |  __  |
 >>>___/\\_^__/\\___<<<
/               |||  \\
",

"caskets" =>
"
  /¯¯¯¯¯/|        /¯¯¯¯¯/|        /¯¯¯¯¯/|        /¯¯¯¯¯/|        /¯¯¯¯¯/|        /¯¯¯¯¯/|
 /     / |       /     / |       /     / |       /     / |       /     / |       /     / |
/_____/  |      /_____/  |      /_____/  |      /_____/  |      /_____/  |      /_____/  |
|     |  /      |     |  /      |     |  /      |     |  /      |     |  /      |     |  /
|     | /       |     | /       |     | /       |     | /       |     | /       |     | /
|_____|/        |_____|/        |_____|/        |_____|/        |_____|/        |_____|/
",

"wallacecyborg" =>
"
        _______
      _/       \\_
    / |       | \\
    /  |__   __|  \\
  |__/((o| |o))\\__|
  |      | |      |
  |\\     |_|     /|
  | \\           / |
    \\| /  ___  \\ |/
    \\ | / _ \\ | /
      \\_________/
      _|_____|_
  ____|_________|____
/                   \\
",

"dooropen" =>
"
     /|
    / |
   /__|______
  |  __  __  |
  | |  ||  | | 
  | |__||__| |
  |  __  __()|
  | |  ||  | |
  | |  ||  | |
  | |__||__| |
  |__________|

",

"privatekenneth" =>
"
       .---.
      /_____\\
      ( '.' )
       \\_-_/

",

"book" =>
"
      ______ ______
    _/      Y      \\_
   // ~~ ~~ | ~~ ~  \\\\
  // ~ ~ ~~ | ~~~ ~~ \\\\  
 //________.|.________\\\\     
`----------`-'----------'

",

"dumpsterbot" =>
"
        <----->
       <  (0)  >
       |       |
      < ------- >
      O         O
      O  0  ()  O
     O           O
   O O O O O O O O O
   O O O O O O O O O
   O O O O O O O O O
",

"trashborg" =>
"
 \\      OO
  \\____|\\mm
  //_//\\ \\w\\
 /---/  \\/_/
/___/_____\\
-----------
",

"screwdroid" =>
"
	
         _
        [ ]
       (   )
        |>|
     __/===\\__
    //| o=o |\\\\
  <]  | o=o |  [>
      \\=====/
     / / | \\ \\
    <_________>


",

"cellphone" =>
"
 __|
|---|    
|[_]|    
|:::|    
|:::|    
`\\   \\   
  \\_=_\\
",
        "alienspaceship" =>
"
             ▄@▓▒▒╢╢╢╢╢▒▓R▄             
        ,,,▄█▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▌,          
   ▄▄████████▓█████▓██▓██▓▓▄▄▒▄         
,██▓███▓▓▓▓▓█▓█▓▓▓▓▓██▓██▓██▓▓▓█▄▄      
▀▄▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▀▀▀███▓█████▓█▄   
   ▀▀Ñ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▀▀██▓▓██▄ 
         █▓████████▓▓▓▓▓▓▄▄▒▒▒▒▒▒▒▒▒▀▀█▌
          `▀▀█▓▓█▀▀▀▀▀█████▓▓█▄▒▒▒▒▒▒▓▀▀
               ▀ ▀▀ ▀▀▀▀▀▀▀▀▀-          
              ▌ ▐                       
             ƒ  ▌   ▐   `               
            ╓       ▐                   
            `  ⌐    ▐                   
           ▌  ▐     ▓                   
          Æ   ▌     ▌   ⌐               
         ▐    ▌         ⌐               
             ╚          ⌐               
".yellow.blink,

"wallace" =>
"
    ,▄████████▄▄▄,
  .▄████████████████▄
 ▄███████████████████▄
`▀████▀▀▀▀▀██▀▀▀▀▀█████▄
 ]██▌⌐              ████
 ▐██▌¿             ╒███`
 ,███Ç,,,,    ,,,  ▐██,
 █████▀▀▀███ ▐█▀▀   ██▀╛
 ▐███     ▀   r     ██▀
  ███▄(  ╒`   ,  ,▄███
  ]█████▀▀▄███`▀█████▌
  ▐████▄███████▀N████▌
    █████████▌  >▀██▀
     ▀██████▌ . ▄█▀
       █████▌╔▐██▀
        ████████
",

"robotsconqueringearth" =>
"
                          └▀██████▄                                             
                              └▀▀▀▀▀▀                                          
       █                                           ┌▄▄▄                         
                                            ▀███▄████████▄                      
                      ┌▄▄▄▄▄▄                  ▀▀██████████                     
                   ▄████████████▄▄▄████▀          └▀▀█████████▄▄                
                 ╓██████████████████▀▀                                          
                ▄███████████████▀▀─       ▄▄                                    
           ▄▄████████████████▀└                                       ▄███▄     
          ▀▀▀▀▀▀▀▀▀▀▀└└▀▀╙─╕                      ▄▄▄┌               ▐█████     
                          ╕         ▄▄▄▄▄▄▄  ▄███████████▄            └▀▀▀      
     ▄                      └        ▀▀████████████████████▄                    
    ███                    ╕ ┐           ▀▀████████████████▀█▄                  
                                            └▀████████████████▄▄▄               
                            ╕ ╘                 ▀▀██████████████████▄           
                               ╕                 ╒ ╛            ─└ └            
               █▌            ╕                   ─                              
                                ╘               ┘ ┘                             
                              ╕  ┐                                              
                                  ─  ╓╓╓╓╓╓╓     ┘                              
                              ▐    ─ ▄██████  ┌                                 
                                    ▄███████    ┘                               
                  ▄            ─█▄██████████ ╛            ▄▄▄▄▄                 
                 ╒█▄           ─██████████▀█┌  │  ▄█▄     ████▌                 
                 ███    ▄██▄   ─████████▀▀ ─   ─ ██████┌  ████▌                 
                ▐███═ ▄██████═ ─███████▀▀  └  ┌ ████████  ████▌                 
          ▄▄▄▄▄▄▄███═ ███████▌ ─████████─     ╒ ┌███████  ████▌  ▄█▄            
     ▄▄┌ ▐██████████═ ███████▌ ─████████▄─┌═ ═  ▄███████  ████▌ ████▌           
    ▐███ ▐██████████▄▄███████▄▄▄█████████▄█▄   █████████▄▄████▌ ████▌           
  ▄▄▄█████████████████████████████████████████████████████████████████████▄▄▄▄▄ 
",

"earthgovernmentresponse" => 
"                                       ▄▀▌│▀▄                                   
                                       █░░░█═                                   
                       ▄█▄█            ▐░▌░▀           ▄▄▄▄                     
                     ╒██████▌          ▄█░█▄           █████                    
                ▄┌▄▄┌▐████▓█═     ▄▀▀ ─ ▄▀░▀▄└▀█      ▐▒╢▒███▄▄                 
               █░░░░▐█▀█▓▓█▀     ▄▀   ▄▐░▄░░▀▄  ▀▄     └█▒╢█████▌               
             ┌▄▀█░░▌░░█▀▓█▀     ▄ ┌ ─ ▐▄▀█╢█▀▄═ └═▀▄    ▄▀▀▐▓▓██▌▄▄             
            █▒▒▒▒▄▌░░╒█▒▒█▄    ▄═▀   ╕▀ ▐▓▓█ └╗    ▀▄  █▌▒░█▓██▒╣╣╣█            
          █▓▓██▒▒█░░░█▒╣╣▒▌█▄▄▄▌  ╓▄█▄▄▄▄▓╬█▄▄▄█▄▄  █▄▀▌▒▒▒░█▓╛░░░█▒█▄          
          █████▒▒██▒███▒╣▒▒▒▒▒▒▒▒█▓█▓█╢╢▓▓▓▓▓▓▓▓▓╢╢╢╣▓▌█░▄░▐▓██▀░░▐█▒█▄▄        
         ▄▒▒▒░░▀▒▒▒█▒╣▀█▒╣▌████▀▀▀▀▀▀▀╢▓▓▓▓▓▓▓▓▓╢▓███▓▀▀░▒██░█▓█▄▄▒▒▒▒███       
        ▌▒╣▒▒█░░░█░██▒╣▒▒▒██╢▓▓▓▓▓▓▓▓▓╢▓▓▓▓▓▓▓▌░██▒█████▓▓█░█▓▀▒▒█▒▒▐████ ▄▄▄▄  
       ▄█╣▒█░▀░░▄▀░█╣▒╣╣▒██▓▓▓╢╢▓▓▓▓▓▓▓▓▓▓▓▓▓╫▀▀█▓▓██▓▓▓▓█░▄█▒▒╣╣▒█▒▒▒▒█▀▄▒╣╣▒█▄
     ████████▌░▄░░▒▒█╫╢╫▒█╢╢╢▓▓╢▓▓╣▓▓▓▓▓▓▓▓▓▓╣▓╦╦╦╦▓╢╣▓╢▓█▀▒▒█▒╣╣▒▒█▒▒▓█▀░█▒╣╣▒▌
    ███████▒▒██░▒█░▒▒░█▒█╢╢▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█▀█▒▒▒▒╣╣╣▒█▒╣▒█▒█▌▒█░░░░▀╣╣╣█
   ██████▒╢╢╢▒██▄░▀░▒▒░█╬╫▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▌░░░█▀▄▐████████▒▒▒▒▒██▀▒▀▄░░░░▄█▀─
   █████▌╢╢╢▒▓█╢▓▓░▀░▒█▓╢╢╢▓╢╢▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▄▄▄▄▄▄▄▓╢╢╣╣██▒▒▒▒█▓█▒╣╣▒█░░░█▀   
   ▀█████╢╢▒▓╣▓▓╢▒╣▓▀█╣╢╢╢╢▓╣╣▓╢▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓╢█╢╢▀▀▀▒▒▒▒╣╣▒█▓█▒╣▒▒▓█▌░░█▄   
   ┌╦▀▒╣▒██╢▓██▓█╢▒╣█╬╣▓▓▓██▓▓▓╢╢▓▓▓▓▓▓▓▓▓▓▓█▀▀█▒█▒▒▐▒▒▒▒▒▒▒▒▒███▒╣▒▓╢███╢╢▓█   
  ▄▒╣╣▒▒▒╣╫█╢▓╢▓█▓▓█╣▓█ └▌░░░░▐░░░╣▓▓▓▓▓▓▓▓▓█░░░░│░▀▀███▓▓▓▓▓▓███╫▓╢╣╫╣██╣╢╢╢█▄ 
 ╒▌╣╣╣▒▒╣╣▒▒▒╣▓╢▓▓▓▓▓▓▓  █░░░▐░░░░█▓▓▓▓▓▓▓▓▓▓╢╢╢╢╢╢╢█╣▓▓╢╢▓█▓╬█╢▓╢█▓╣▓╣▓▓▓▓▓▓▓╢█
 █╣╣╣╣╣▒▒╣╣╣╣██▓▓▓█████▓█▄▄▄▄▄▄▄▄▄█▓▓▓▓▓▓▓▓▓▓▓╣▀▀▀▀▐█▀█╢╢█▓▓▓▓▓╢▓█▓╢╢█▓▓▓▓▓▓▓▓▓█
▐▒╣╣╣╣╣▒█▒╣╣╣█▓╢█╣╣▓▓█╢╣▓╣▓╢▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░▀▄▀│░░███╣╫▓████╢╢██▓▓▓█▓▓▓▓▓▓█
█╣▒╣╣╣╣▒▀██▒▒█╢██▓▓▓▓╢██╢╢▓▓▓╣▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▄▄▄▄▄▄░░░░░█╢╣▓╣╣▓██╢▓▓▓╢█▓▓▓▓╢█▌
█╣▒▒╣╣╣╣▒▒▒╣╣╣╣╣╣╣▒█▒▒╢╢╢▒▌░▀▀▀╣▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓╢▓╣╬╬█╣▓▓▓╫█╢▓▓▓▓╢█─
█╣╣▒▒╣╣╣╣╣╣╣╣╣╣╣╣╣▒▒▌╢╢╢╢█░░░░░▀▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓╢╣▓╢▓▓╢▓█╢▓╢█╣▓▓▓▓▓╢█ 
▀╩╩█████▓▓▓▓████████▄▄██▄▄▄░░▄▄▄███████████████████████╢╢╢╢╢╢╢╣╢███████╢╢╢╢╢██▌ ".light_white.blink,

"earthnukingaliens" => 
"
████████████████████████████████████████████████████████████
██████████████████▓██████████████████▌▀█████████████████████
█████████████▓▓▓▓▓▓▓▓▓▓▓▓█████████▀░░▒▒▒▓▓▓▓▓╢▓▓▀███████████
███████████▓▓▓▓▓▓▒▒▒▒▓▓▓▓▓▓▓▓████▒▒▒╬╫▓▓▓▓▓▓▓▓▓░░███████████
██████████▓█▓▓▓▓▒▓▒▒▓▓▓▓▓▓▓█▀▀╙▓▓▓╜╦▓▓▓▓▓▓▓▓▓░░▒████████████
█████████▓▓█▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░▒▒╫▓░╦▓▓▓░▓▓▓▓╜░╖║▒▒▒███████████
██████████▓█▓▓▓▓▓▓▓▓▓▓▓▓█▌╟▓▒▒▒░░░▓▓▓▓▓▓░░╓╢▒▒▒▒▒███████████
██████████▓▓█▓▓▓▓▓▓▓▓▓▓╢▓▓░▓▒▒╦╢╟▓▓╞▓▓░░╖╢▒▒▒▒╜░████████████
████████████▓▓█▓▓▓▓▓▓╢▓▓▓╜╥▓▓▓▓▓▓▓▓▓░░╣▒▒▒▒▒╜░╖║▒███████████
██████████████▓▓█▓▓╢▓▓▓╜╦▓▓░▓▓▓▓▓▓░░╢▒▒▒▒╢╜░╖║║░░▀▀█████████
████████████████╣╣▓▓▓░╦▓▓▓▓╥╖╥▓╜░╖╢▒▒▒▒╢░░║▒▒▄▄▄░░░░░▀██████
███████████████╣▓▒▓░▓▓░░╙▓▓▓▓╜░╥╢▒▒▒▒║░░╢▒▒████████▄▄▄██████
███████████████╣▓░▓▓▓▓░░░▓▓░░║╢▒▒▒╢╜░▒╢╢╜░░░░███████████████
███████████▀░░░╗▓╨╨▓▓▓▓▓▓░░╬▒▒▒╢▒▒▒▒▒▒▒▒░░░▄████████████████
█████████▀▒▒▒▒▒▒▒░░░▒▒▓░░║╜░░▒╜▒▒▒▒╢╣╣▒▒▒▄██████████████████
██████████▒╣╫▒▒▒▒▒▒▒░░░▒▒▒▒▒▒░░▒▒▒╣╫█▌╣▒▄███████████████████
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒
▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒
▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒
▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒
▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒
▒░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒
▒░▒░░░░░░░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░░░░░░░░░░░░▒
".red.blink

# # "earthnukingaliens" =>
}


end

class Message < Entity
  def self.print(msg)
      maximum_length = winsize()[1].to_i - 36
      chr = @content[msg]
      
      str = Array.new
      if not chr.nil?
        if (chr.length > maximum_length)
          for i in 0..((chr.length/maximum_length))
            lastspace = chr[..(i*maximum_length)].rindex(" ")
            chr[lastspace] = "\n" if not lastspace.nil?
          end
        end
      else
        chr = msg
      end
        str = chr.split("\n")
        for i in 0..str.length-1
            puts "\t\t" + str[i].to_s
        end
  end

  def self.printbox(room, msg)
    maximum_length = 30
    str = Array.new
      if (msg.length > maximum_length)
        for i in 0..((msg.length/maximum_length))
          lastspace = msg[..(i*maximum_length)].rindex(" ")
          msg[lastspace] = "\n" if not lastspace.nil?
        end
      end
      room.place([4,71],msg)
  end




  @content = 
  {
      "alienspaceship" => "30 years ago, a large alien spaceship arrived in Earth orbit. The aliens broadcast a message to the world, desperately seeking refuge on the planet." ,

      "earthgovernmentresponse" => "Taken by surprise, the governments of Earth came to a unanimous decision: nuke the spaceship before it has a chance to land.",

      "earthnukingaliens" => "The Head of the Department of Defence at the time, Dr David Wallace ordered nuclear strikes on the alien ship, quickly destroying it before it could land.",

      "aliensdevastatingearth" => "Unbeknownest to them, the entire alien armada was waiting not too far away. The aliens unleashed a devastating attack and quickly conquered and destroyed the entire world.",

      "drdavidwallace" => "Dr David Wallace was nowhere to be found and was presumed dead."
  }
end

# \t║  ║                                       ║  ║\t\t║  ║                                       ║  ║\t\n
# length => 99
# start => 57
# end => 94
# max_length = 94-57 = 37
# max_str_length = 
robot = "[o_o]"